<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>seed-element</title>

    <!-- Import dependencies -->
    <script src="../../webcomponentsjs/webcomponents.min.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../../polymer/polymer.html">
    <link rel="import" href="../pikaday-decorator.html">
</head>

<body>

<p>
    <pikaday-decorator locale="fr" id="typicalPicker">
        <input type="text" name="date1" />
    </pikaday-decorator>
</p>

<p>
    <pikaday-decorator locale="fr" id="pickerButton">
        <input type="text" name="date2" />
        <button type="button" pikaday-decorator-trigger>pick</button>
    </pikaday-decorator>
</p>

<script>
    suite('<pikaday-decorator>', function() {
        test('exists', function() {
            assert.isNotNull(document.getElementById('typicalPicker'));
            assert.isNotNull(document.getElementById('pickerButton'));
        });

        test('pikaday instantiated', function() {
            assert.equal(2, document.querySelectorAll('.pika-single').length);
        });

        test('locale loaded', function() {
            var el = document.getElementById('typicalPicker');

            assert.equal('fr', el.locale);
            setTimeout(function() {
                assert.equal('Mois précédent', el.instance._o.i18n.nextMonth);
            }, 1000);
        });


        //todo: test that options are working
    });
</script>

</body>
</html>